{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport iziToast from \"izitoast\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\n\nconst startBt = document.querySelector('[data-start]');\nconst days = document.querySelector('[data-days]');\nconst hours = document.querySelector('[data-hours]');\nconst minutes = document.querySelector('[data-minutes]');\nconst seconds = document.querySelector('[data-seconds]');\n\nconst datetimePicker = document.querySelector('#datetime-picker');\nlet userSelectedDate = null;\nstartBt.disabled = true;\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n      const selec = selectedDates[0];\n      const day = new Date;\n\n      if (selec <= day) {\n          iziToast.error({\n            position: 'topRight',\n            title: 'Error',\n            message: 'Please choose a date in the future',\n            });\n          startBt.disabled = true;\n      } else {\n          userSelectedDate = selec;\n          datetimePicker.disabled = false;\n          startBt.disabled = false;\n          }\n  },\n};\n \nflatpickr(\"#datetime-picker\", options);\n\nstartBt.addEventListener('click', functionStart);\nfunction functionStart() {\n\n    datetimePicker.disabled = true;\n    startBt.disabled = true;\n    const interval = setInterval(() => {\n        const newDay = new Date();\n        let subtraction = userSelectedDate - newDay;\n\n        if (subtraction <= 0) {\n            clearInterval(interval);\n            days.textContent = '0';\n            hours.textContent = '00';\n            minutes.textContent = '00';\n            seconds.textContent = '00';\n            return;\n        }\n\n        const { days: d, hours: h, minutes: m, seconds: s } = convertMs(subtraction);\n        \n        days.textContent = d;\n        hours.textContent = String(h).padStart(2, '0');\n        minutes.textContent = String(m).padStart(2, '0');\n        seconds.textContent = String(s).padStart(2, '0');\n    }, 1000);\n}\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\n"],"names":["startBt","days","hours","minutes","seconds","datetimePicker","userSelectedDate","options","selectedDates","selec","iziToast","flatpickr","functionStart","interval","subtraction","d","h","m","s","convertMs","ms"],"mappings":"iyBAOA,MAAMA,EAAU,SAAS,cAAc,cAAc,EAC/CC,EAAO,SAAS,cAAc,aAAa,EAC3CC,EAAQ,SAAS,cAAc,cAAc,EAC7CC,EAAU,SAAS,cAAc,gBAAgB,EACjDC,EAAU,SAAS,cAAc,gBAAgB,EAEjDC,EAAiB,SAAS,cAAc,kBAAkB,EAChE,IAAIC,EAAmB,KACvBN,EAAQ,SAAW,GAEnB,MAAMO,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACnB,MAAMC,EAAQD,EAAc,CAAC,EAGzBC,GAFQ,IAAI,MAGZC,EAAS,MAAM,CACb,SAAU,WACV,MAAO,QACP,QAAS,oCACrB,CAAa,EACHV,EAAQ,SAAW,KAEnBM,EAAmBG,EACnBJ,EAAe,SAAW,GAC1BL,EAAQ,SAAW,GAE1B,CACH,EAEAW,EAAU,mBAAoBJ,CAAO,EAErCP,EAAQ,iBAAiB,QAASY,CAAa,EAC/C,SAASA,GAAgB,CAErBP,EAAe,SAAW,GAC1BL,EAAQ,SAAW,GACnB,MAAMa,EAAW,YAAY,IAAM,CAE/B,IAAIC,EAAcR,EADH,IAAI,KAGnB,GAAIQ,GAAe,EAAG,CAClB,cAAcD,CAAQ,EACtBZ,EAAK,YAAc,IACnBC,EAAM,YAAc,KACpBC,EAAQ,YAAc,KACtBC,EAAQ,YAAc,KACtB,MACH,CAED,KAAM,CAAE,KAAMW,EAAG,MAAOC,EAAG,QAASC,EAAG,QAASC,CAAC,EAAKC,EAAUL,CAAW,EAE3Eb,EAAK,YAAcc,EACnBb,EAAM,YAAc,OAAOc,CAAC,EAAE,SAAS,EAAG,GAAG,EAC7Cb,EAAQ,YAAc,OAAOc,CAAC,EAAE,SAAS,EAAG,GAAG,EAC/Cb,EAAQ,YAAc,OAAOc,CAAC,EAAE,SAAS,EAAG,GAAG,CAClD,EAAE,GAAI,CACX,CAEA,SAASC,EAAUC,EAAI,CAQrB,MAAMnB,EAAO,KAAK,MAAMmB,EAAK,KAAG,EAE1BlB,EAAQ,KAAK,MAAOkB,EAAK,MAAO,IAAI,EAEpCjB,EAAU,KAAK,MAAQiB,EAAK,MAAO,KAAQ,GAAM,EAEjDhB,EAAU,KAAK,MAASgB,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAnB,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC"}